{
  "permissions": {
    "allow": [
      "mcp__clickup__clickup_get_task",
      "mcp__clickup__clickup_get_task_comments",
      "Bash(gh pr view:*)",
      "Bash(gh pr diff:*)",
      "Bash(python3:*)",
      "mcp__clickup__clickup_create_task_comment",
      "Bash(curl:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfix: resolve race condition in IDSyncSDK and improve reliability - pg-12821\n\n- Add Promise-based ready state management for SDK initialization\n- Add polling retry mechanism \\(100ms × 50 = 5s\\) for SDK loading\n- Add 10s timeout for SDK initialization failure handling\n- Convert idSyncLogin/idSyncLogout to async functions that wait for SDK ready\n- Add useEffect cleanup for polling interval\n- Make MemberBtn logoutHandler async to properly await SDK logout\n- Remove dead code and unused imports in MemberBtn\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(npm test:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\ntest: add unit tests for IDSyncSDK - pg-12821\n\n- Add comprehensive unit tests for waitForSDKReady, idSyncLogin, idSyncLogout\n- Test SDK initialization, polling mechanism, and timeout handling\n- Add resetSDKState helper function for test isolation\n- Restructure component to IDSyncSDK/index.tsx format\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit:*)",
      "Bash(npx tsc:*)",
      "Bash(npx eslint:*)",
      "WebSearch",
      "WebFetch(domain:docs.astro.build)",
      "Bash(ls:*)",
      "WebFetch(domain:firebase.google.com)",
      "Bash(git worktree add:*)",
      "Bash(git worktree:*)",
      "Bash(git push:*)",
      "mcp__figma-remote-mcp__get_design_context",
      "Bash(xargs dirname:*)",
      "mcp__figma-remote-mcp__get_screenshot",
      "mcp__figma-desktop__get_screenshot",
      "mcp__figma-desktop__get_design_context",
      "mcp__figma-desktop__get_metadata",
      "Bash(npm run lint:*)",
      "WebFetch(domain:pagespeed.web.dev)",
      "Bash(find:*)",
      "Bash(grep:*)",
      "Bash(du:*)",
      "Bash(npx jest:*)",
      "Bash(git -C /Users/tvbs/projects/web-health-nextjs status)",
      "Bash(git -C /Users/tvbs/projects/web-health-nextjs diff lib/utils/slackUtils/notificationThrottler.ts)",
      "Bash(git -C /Users/tvbs/projects/web-health-nextjs log --oneline -5)",
      "Bash(git -C /Users/tvbs/projects/web-health-nextjs add lib/utils/slackUtils/notificationThrottler.ts)",
      "Bash(git -C /Users/tvbs/projects/web-health-nextjs commit -m \"$\\(cat <<''EOF''\nfix: add size-based cleanup to prevent notification cache memory leak - PG-13090\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(node:*)",
      "Bash(git status:*)",
      "Bash(pstree:*)",
      "Bash(ps:*)",
      "Bash(xargs:*)",
      "Bash(lsof:*)",
      "Bash(kill:*)",
      "Bash(git init:*)",
      "Bash(git branch:*)",
      "Bash(npx bmad-method@alpha install)",
      "Bash(npm install:*)",
      "Bash(timeout 10 npm run dev:*)",
      "Bash(npx vite:*)",
      "Bash(npm run build:*)",
      "Bash(npx playwright install:*)",
      "Bash(npx playwright test:*)",
      "Bash(test:*)",
      "Bash(npx vitest:*)",
      "Bash(npm run test:e2e:*)",
      "Bash(chmod:*)",
      "Bash(for f in scripts/ci-local.sh scripts/burn-in.sh scripts/test-changed.sh)",
      "Bash(do if [ -x \"$f\" ])",
      "Bash(then echo \"  $f: EXISTS + EXECUTABLE\")",
      "Bash(else echo \"  $f: MISSING or NOT EXECUTABLE\")",
      "Bash(fi)",
      "Bash(done)",
      "Bash(for f in docs/ci.md docs/ci-secrets-checklist.md)",
      "Bash(do if [ -f \"$f\" ])",
      "Bash(then echo \"  $f: EXISTS\")",
      "Bash(else echo \"  $f: MISSING\")",
      "Bash(npx --yes yaml-lint:*)",
      "Bash(gh run view:*)",
      "Bash(npm uninstall:*)",
      "Bash(tree:*)",
      "WebFetch(domain:simplemaps.com)",
      "Bash(npm info:*)",
      "Bash(npx:*)",
      "Bash(tar:*)",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes status)",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes diff --stat)",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes log --oneline -5)",
      "Bash(file:*)",
      "Bash(xxd:*)",
      "Bash(ffprobe:*)",
      "Bash(afinfo:*)",
      "Bash(git show:*)",
      "Bash(sips:*)",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes diff)",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes add src/components/LocationDetail.tsx src/App.tsx tests/unit/LocationDetail.test.tsx tests/unit/App.test.tsx tests/e2e/scene-photography.spec.ts public/images/tamsui.jpg public/images/alishan.jpg public/images/keelung.jpg _bmad-output/implementation-artifacts/2-2-scene-photography-and-complete-soundscape-assets.md _bmad-output/implementation-artifacts/sprint-status.yaml)",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes commit -m \"$\\(cat <<''EOF''\nfeat: implement Story 2.2 — Scene Photography & LocationDetail component\n\nAdd LocationDetail component displaying scene photographs and location\nnames when users select unlocked soundscapes. Integrate into App.tsx\nwith flex layout \\(map left, detail right, player bottom\\). Include 3\nroyalty-free scene photos for Tamsui, Alishan, and Keelung locations.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(npm run test:unit:*)",
      "Bash(npm run test:e2e:chromium:*)",
      "Bash(npm run test:e2e:webkit:*)",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes add src/App.tsx tests/e2e/panel-transitions.spec.ts _bmad-output/implementation-artifacts/4-2-transition-polish-and-performance-validation.md)",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes commit -m \"$\\(cat <<''EOF''\nfix: eliminate map layout shift when switching locations\n\nUse stable AnimatePresence key=\"detail-panel\" instead of per-location\nkey={selectedLocation.id}. Per-location keys caused exit/enter animations\nthat momentarily doubled flex children, pushing the map left \\(flicker +\nshift\\). Stable key makes location switches instant React re-renders while\npreserving enter/exit animations for panel appear/disappear.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes add tests/e2e/performance-validation.spec.ts)",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes commit -m \"$\\(cat <<''EOF''\nfix: remove unused audioSrc variable to pass CI lint\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Skill(bmad:bmm:workflows:prd)",
      "Skill(bmad:bmm:workflows:create-epics-and-stories)",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes add src/data/sleep.ts src/components/SleepAssessment.tsx src/App.tsx tests/unit/sleep.test.ts tests/unit/SleepAssessment.test.tsx tests/unit/App.test.tsx _bmad-output/implementation-artifacts/5-2-sleep-assessment-questionnaire-and-type-result.md _bmad-output/implementation-artifacts/sprint-status.yaml)",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes commit -m \"$\\(cat <<''EOF''\nfeat: implement Story 5-2 sleep assessment questionnaire and type result\n\nAdd fullscreen sleep assessment with 5 Traditional Chinese questions,\nweighted scoring for 3 sleep types \\(入睡困難型/淺眠易醒型/焦慮思緒型\\),\nresult page with CTA, and App.tsx integration with onboarding flow.\n227 unit tests pass, all 8 acceptance criteria satisfied.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes add src/components/MyJourneyPage.tsx src/App.tsx tests/unit/MyJourneyPage.test.tsx tests/e2e/my-journey-page.spec.ts tests/unit/App.test.tsx tests/e2e/tab-navigation.spec.ts _bmad-output/implementation-artifacts/7-1-my-journey-achievement-page.md _bmad-output/implementation-artifacts/sprint-status.yaml)",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes add:*)",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes commit -m \"$\\(cat <<''EOF''\ntest: expand unit test coverage for Story 7-1 MyJourneyPage\n\nAdd 3 P2 unit tests verifying progress bar width and day/total text\nfor light \\(30%\\) and anxious \\(50%\\) sleep types, plus page heading.\nCloses coverage gap where non-difficulty types only tested plan name.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes commit -m \"$\\(cat <<''EOF''\ntest: add E2E test automation for Story 7-2 CollectionProgress\n\n6 Playwright E2E tests covering collection count display, sleep-type\nhint text, progress dots visual rendering, tab exclusion, and layout\npositioning. Adapts for Tailwind CSS v4 oklch\\(\\) color format.\n302/302 tests pass \\(296 unit + 6 new E2E\\), 0 regressions.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/alexyu/projects/work/tvbs/taiwan-soundscapes commit -m \"$\\(cat <<''EOF''\nfix: resolve code review issues for Story 7-2 CollectionProgress\n\nExtract inline IIFE hintText computation to pre-render variable for\nreadability \\(M1\\). Move hintLocations data from App.tsx to data/sleep.ts\nper Architecture Decision 10 \\(M2\\). Update story File List to include\nE2E test and modified sleep.ts \\(M3\\). Mark story and epic-7 as done.\n296/296 tests pass, 0 regressions.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")"
    ]
  }
}
